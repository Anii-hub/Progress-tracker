{% extends "base.html" %}
{% block content %}

<h1>Friends</h1>

<div class="card">
<form method="get">
<input name="q" placeholder="Search users...">
<button class="btn">Search</button>
</form>
</div>

<div class="grid">

<div class="card">
<h3>Your Friends</h3>
{% for f in friends %}
<p>{{ f.username }}</p>
{% empty %}
<p>No friends yet.</p>
{% endfor %}
</div>

<div class="card">
<h3>Find Users</h3>
{% for u in users %}
<p>
{{ u.username }}
{% if u.id in friends_ids %}
✔ Friends
{% elif u.id in sent_requests %}
⏳ Sent
{% else %}
<a class="btn" href="{% url 'send_friend_request' u.id %}">Add</a>
{% endif %}
</p>
{% endfor %}
</div>

</div>

{% endblock %}
